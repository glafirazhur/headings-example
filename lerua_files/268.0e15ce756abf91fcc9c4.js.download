(window.webpackJsonp=window.webpackJsonp||[]).push([[268],{970:function(e,t,i){"use strict";i.r(t);var n=i(14),o=i(19),a=i.n(o),s=i(5),l=i.n(s),r=i(20);let c=null;let u=null;var d=i(9),b=i.n(d);function g(){const e=a()(["<slot></slot>"]);return g=function(){return e},e}const h={abTestKey:{type:String,attribute:"ab-test-key"},_abTestFlag:{type:Boolean},_initialized:{type:Boolean},controlElement:{type:String,attribute:"control-element"},cookieName:{type:String,attribute:"cookie-name"}};class m extends r.a{constructor(){super(),this.abTestKey=null,this._initialized=!1,this.controlElement=null}connectedCallback(){super.connectedCallback();const e=+b.a.get(this.cookieName);Number.isNaN(e)?new Promise(e=>{!function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}("event","optimize.callback",{name:this.abTestKey,callback:()=>{e()}}),Promise.all([(null===c&&(c=new Promise(e=>{const t=()=>"visible"===document.visibilityState;t()?e():window.addEventListener("visibilitychange",()=>t()&&e(),{once:!0,passive:!0})})),c),(null===u&&(u=new Promise(e=>{"complete"===document.readyState?e():window.addEventListener("load",e,{once:!0,passive:!0})})),u)]).then(()=>setTimeout(()=>{this._initialized||e()},4e3))}).then(()=>this._initialized=!0).then(()=>this._abTestFlag=this._getABTestFlag()):this._abTestFlag=e}updated(e){if(e.has("_abTestFlag")&&this._abTestFlag){this.querySelector(this.controlElement).setAttribute("variant",this._abTestFlag)}}_getABTestFlag(){if("google_optimize"in window){const e=this._getABResultFromGoogleOptimize(window.google_optimize);if(e)return e}return null}_getABResultFromGoogleOptimize(e){if(!this.abTestKey)return null;const t=e.get(this.abTestKey);return void 0===t?null:+t}render(){return Object(r.c)(g())}}l()(m,"properties",h),Object(n.b)("uc-ab-test-control",m)}}]);