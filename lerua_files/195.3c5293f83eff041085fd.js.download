(window.webpackJsonp=window.webpackJsonp||[]).push([[195],{409:function(t,n,e){"use strict";var r=e(19),c=e.n(r),o=e(5),i=e.n(o),a=e(20),s=e(81),u=e(22),b=e(24);function l(){const t=c()([".form-btn {\n          width: 100%;\n        }"]);return l=function(){return t},t}function h(){const t=c()([".form-btn {\n          width: ",";\n        }"]);return h=function(){return t},t}function f(){const t=c()([".form-btn {\n          width: 100%;\n        }"]);return f=function(){return t},t}function m(){const t=c()(["uc-form-subtitle {\n          margin-bottom: ",";\n        }"]);return m=function(){return t},t}function d(){const t=c()(["uc-form-subtitle {\n          margin-bottom: ",";\n        }"]);return d=function(){return t},t}function p(){const t=c()(["uc-form-title {\n          margin-top: ",";\n        }"]);return p=function(){return t},t}function j(){const t=c()(["uc-form-title {\n          margin-top: ",";\n        }"]);return j=function(){return t},t}function O(){const t=c()(["uc-form-title {\n          margin-top: ",";\n        }"]);return O=function(){return t},t}function g(){const t=c()([".back button {\n          font-size: 0;\n        }"]);return g=function(){return t},t}function _(){const t=c()([".back button {\n          font-size: ",";\n        }"]);return _=function(){return t},t}function k(){const t=c()([".back button {\n          font-size: 0;\n        }"]);return k=function(){return t},t}function w(){const t=c()([".back {\n          position: relative;\n          top: 0;\n          left: 0;\n          transform: translateY(0);\n          margin-top: ",";\n        }"]);return w=function(){return t},t}function v(){const t=c()([".back {\n          top: -",";\n          margin-top: 0;\n        }"]);return v=function(){return t},t}function y(){const t=c()([":host {\n        position: relative;\n        display: block;\n        width: 100%;\n        margin-right: auto;\n        margin-left: auto;\n      }\n      \n      .container {\n        max-width: ",";\n        margin-right: auto;\n        margin-left: auto;\n      }\n      \n      .action-wrap {\n        margin-top: ",";\n      }\n      \n      .preloader {\n          margin-top: 100px;\n          margin-right: auto;\n          margin-left: auto;\n          width: 64px;\n          height: 64px;\n          transition: opacity 0.1s ease-in-out 0s;\n      }\n\n      .back {\n        position: absolute;\n        top: -",";\n        left: var(--layout-gap);\n        transform: translateY(-100%);\n        z-index: 1;\n        display: block;\n        font-size: ",";\n        line-height: ",";\n        --button-color: #A9ACB1;\n        --button-hover-color: #e6615e;\n      }\n      ","\n      ","\n      .back button {\n        margin: 0 -",";\n        padding: ",";\n        color: #A9ACB1;\n      }\n      ","\n      ","\n      ","\n      .back-icon {\n        margin-top: -1px;\n        margin-right: 3px;\n      }\n      .back-icon svg {\n        fill: #A9ACB1;\n      }\n      .back:hover svg {\n        fill: #e6615e;\n      }\n\n      ","\n      ","\n      ","\n      \n      uc-form-subtitle {\n        margin-top: ",";\n      }\n      ","\n      ","\n      \n      .form-btn {\n        height: ",";\n        font-size: ",";\n        line-height: ",";\n      }\n      ","\n      ","\n      ",""]);return y=function(){return t},t}const B=Object(a.b)(y(),Object(u.a)(380),Object(u.a)(32),Object(u.a)(12),Object(u.a)(14),Object(u.a)(16),Object(b.g)(Object(a.b)(v(),Object(u.a)(22))),Object(b.a)(Object(a.b)(w(),Object(u.a)(116))),Object(u.a)(12),Object(u.a)(8),Object(b.g)(Object(a.b)(k())),Object(b.a)(Object(a.b)(_(),Object(u.a)(14))),Object(b.c)(Object(a.b)(g())),Object(b.g)(Object(a.b)(O(),Object(u.a)(80))),Object(b.a)(Object(a.b)(j(),Object(u.a)(10))),Object(b.c)(Object(a.b)(p(),Object(u.a)(40))),Object(u.a)(12),Object(b.g)(Object(a.b)(d(),Object(u.a)(48))),Object(b.c)(Object(a.b)(m(),Object(u.a)(32))),Object(u.a)(52),Object(u.a)(16),Object(u.a)(52),Object(b.g)(Object(a.b)(f())),Object(b.a)(Object(a.b)(h(),Object(u.a)(196))),Object(b.c)(Object(a.b)(l())));e(58);var z=e(14),S=e(454);Object(z.b)("uc-form-input",S.a);e(166),e(319),e(215),e(194),e(42);var C=e(67),A=e(96);const E={nameIsCorrect:{message:"Допустимы русские и английские буквы, пробел и дефис",pattern:/^[а-яА-ЯЁёa-zA-Z -]+$/},phoneIsCorrect:{message:"Номер телефона указан не верно",pattern:/^((8|\+7)[- ]?)?(\(?\d{3}\)?[- ]?)?[\d\- ]{9,}$/},emailIsCorrect:{message:"Некорректный адрес электронной почты",pattern:/^([._-]*[A-Za-z0-9]+[._-]*){1,}@([A-Za-z0-9]+[._-]*[A-Za-z0-9]+){1,}([._-]*[A-Za-z0-9]+){0,}\.[A-Za-z]{2,4}$/},allCorrect:{message:"Все поля обязательны для заполнения"}};function P(t,n){return 0===t.length?"Это поле обязательно для заполнения":function(t,n){const{emailIsCorrect:e,nameIsCorrect:r,phoneIsCorrect:c}=E;switch(n){case"email":return!e.pattern.test(t)&&e.message;case"name":return!r.pattern.test(t)&&r.message;case"phone":return!c.pattern.test(t)&&c.message;default:return"Неизвестная ошибка"}}(t,n)}var x=e(99),L=e(39),V=e(488);function I(){const t=c()(['<uc-button class="back" buttonstyle="text" buttonsize="m" @click="','"><button><uc-icon class="back-icon" size="s">',"</uc-icon>Назад</button></uc-button>"]);return I=function(){return t},t}function Z(){const t=c()(['<uc-form-success type="error" message="При отправке запроса произошла ошибка. Попробуйте ещё раз через несколько минут"><div slot="btn" class="actions-wrap"><uc-button buttonstyle="primary" buttonsize="m"><button @click="','">Вернуться назад</button></uc-button></div></uc-form-success>']);return Z=function(){return t},t}function F(){const t=c()(['<uc-form-success type="forgot" message="Ссылка для изменения пароля была отправлена вам на&nbsp;почту"></uc-form-success>']);return F=function(){return t},t}function R(){const t=c()(['<uc-page-content><div class="container">',"</div></uc-page-content>"]);return R=function(){return t},t}function K(){const t=c()(["<div>","</div>"]);return K=function(){return t},t}function T(){const t=c()(["",'<uc-page-content><div class="container">','<uc-form-title title="Восстановление доступа"></uc-form-title>'," ","</div></uc-page-content>"]);return T=function(){return t},t}function $(){const t=c()(["",""]);return $=function(){return t},t}function q(){const t=c()(['<div class="preloader"><uc-circular-loader></uc-circular-loader></div>']);return q=function(){return t},t}function J(){const t=c()(['<uc-form-subtitle subtitle="Укажите почту, чтобы получить ссылку для&nbsp;изменения пароля"></uc-form-subtitle><form class="form" @submit="','"><uc-form-input @input="','" @focus="','" @blur="','" label="Почта" inputtype="email" name="email" message="','" ?haserror="','"></uc-form-input><div class="action-wrap"><uc-button buttonstyle="primary"><button class="form-btn">Получить ссылку</button></uc-button></div></form>']);return J=function(){return t},t}e.d(n,"a",(function(){return U}));const N={sendLinkPassword:{type:Boolean},sendSuccessful:{type:Boolean},emailErr:{type:Boolean},_form:{type:Boolean},_loader:{type:Boolean},recaptchaSiteKey:{type:String}};class U extends a.a{static get properties(){return N}constructor(){super(),i()(this,"onSuccessRequest",t=>{t.data?this.sendLinkPassword=!this.sendLinkPassword:(this.emailErr="Email не найден. Проверьте правильность ввода email",this._inputValue="")}),i()(this,"_renderForm",()=>Object(a.c)(J(),this.handleSubmit,this.handleChange,this.handleFocus,this.handleBlur,this.emailErr,this.emailErr)),i()(this,"_renderLoader",()=>Object(a.c)(q())),this.sendLinkPassword=!0,this.sendSuccessful=!0,this.emailErr=!1,this._form=!0,this._loader=!1,this._inputName="email",this._inputValue="",this.captcha=null,this.recaptchaSiteKey=""}handleChange(t){this._inputValue=t.detail.value}handleBlur(){this._inputValidation()}handleFocus(){this.emailErr=!1,this.emailErr=""}loadRecaptcha(){return new Promise(function(t,n){let e;return Promise.resolve(Object(V.load)(this.recaptchaSiteKey)).then((function(r){try{return e=r,t(e)}catch(t){return n(t)}}),n)}.bind(this))}firstUpdated(){this.captcha=this.loadRecaptcha()}handleSubmit(t){t.preventDefault(),this._inputValidation()||this.captcha.then(t=>{t.execute("check_email").then(t=>{Object(x.a)("/_jcr_content/forgotPassword/",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:"email=".concat(this._inputValue,"&g-recaptcha-response=").concat(t)}).then(this.onSuccessRequest).catch(()=>{this.sendLinkPassword=!this.sendLinkPassword,this.sendSuccessful=!1}).finally(()=>{this._loader=!1,this._form=!0}),this._form=!this._form,this._loader=!this._loader})})}_inputValidation(){return this.emailErr=P(this._inputValue,this._inputName),this.emailErr}render(){return Object(a.c)($(),this.sendLinkPassword?Object(a.c)(T(),Object(s.b)(Object(a.c)(K(),this._renderBackButton(this.elem))),Object(s.a)(this._renderBackButton(this.elem)),Object(L.a)(this._form,this._renderForm),Object(L.a)(this._loader,this._renderLoader)):Object(a.c)(R(),this.sendSuccessful?Object(a.c)(F()):Object(a.c)(Z(),()=>this._errorSend())))}_renderBackButton(){return Object(a.c)(I(),()=>this._back(),C.a)}_back(){document.dispatchEvent(new CustomEvent(A.c))}_errorSend(){this.sendLinkPassword=!0}}i()(U,"styles",B)}}]);