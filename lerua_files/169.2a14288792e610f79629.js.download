(window.webpackJsonp=window.webpackJsonp||[]).push([[169],{164:function(t,e,n){"use strict";n.d(e,"d",(function(){return g})),n.d(e,"c",(function(){return v})),n.d(e,"f",(function(){return w})),n.d(e,"e",(function(){return j})),n.d(e,"g",(function(){return k})),n.d(e,"h",(function(){return x})),n.d(e,"b",(function(){return C})),n.d(e,"a",(function(){return I}));var r=n(5),i=n.n(r),o=n(469),c=n.n(o),a=(n(470),n(92),n(473)),s=n.n(a),u=n(476),l=n.n(u),d=n(8);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t,e){h=function(t,e){return new o(t,void 0,e)};var n=s()(RegExp),r=RegExp.prototype,i=new WeakMap;function o(t,e,r){var o=n.call(this,t,e);return i.set(o,r||i.get(t)),o}function a(t,e){var n=i.get(e);return Object.keys(n).reduce((function(e,r){return e[r]=t[n[r]],e}),Object.create(null))}return c()(o,n),o.prototype.exec=function(t){var e=r.exec.call(this,t);return e&&(e.groups=a(e,this)),e},o.prototype[Symbol.replace]=function(t,e){if("string"==typeof e){var n=i.get(this);return r[Symbol.replace].call(this,t,e.replace(/\$<([^>]+)>/g,(function(t,e){return"$"+n[e]})))}if("function"==typeof e){var o=this;return r[Symbol.replace].call(this,t,(function(){var t=[];return t.push.apply(t,arguments),"object"!=typeof t[t.length-1]&&t.push(a(t,o)),e.apply(this,t)}))}return r[Symbol.replace].call(this,t,e)},h.apply(this,arguments)}const f={placeholder:"placeholder.jpg",format:"auto",quality:"90"},m={width:"w",height:"h",dpr:"dpr",placeholder:"d",quality:"q",format:"f"},b=t=>{const e=(t=>{const{name:e}=t.match(h(/(?:.+)(?:catalogue\/)([\x2D0-9A-Z_a-z]*)(?:\.?)(?:html)?/,{name:1})).groups;return e||null})(t);return e?"".concat("https://res.cloudinary.com/lmru-test/image/upload/f_auto,q_auto/elbrus/images/catalog-popup-images","/").concat("version6","/").concat(e,".jpg"):null},g=(t,e,n="")=>{t||(t=b(n)||"https://res.cloudinary.com/lmru-test/image/upload/f_auto,q_auto/placeholder.jpg");const r=Math.round(100*window.devicePixelRatio)/100;return((t,e)=>{const n=Object.entries(e).map(([t,e])=>"".concat(m[t],"_").concat(e)).join(",");return t.includes("f_auto,q_auto")?t.split("f_auto,q_auto").join(n):t})(t,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){i()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},f,{},e,{dpr:r}))},v=t=>!t||/^\s*$/.test(t),w=t=>{const e=l()(t);return[{fromNode:["предложение ограничено"]},{fromNode:["кухни","мебель для кухни","спроектировать кухню"]}].forEach(({fromNode:t})=>{O(e,t,!0)}),e},O=(t,e,n)=>{if(!t)return null;if(0===e.length)return t;const r=e[0];var i;if(e.length>1)return O(null===(i=t.find(t=>t.name.toLowerCase()===r.toLowerCase()))||void 0===i?void 0:i.childs,e.slice(1),n);const o=t.find(t=>t.name.toLowerCase()===r.toLowerCase());if(n&&o){const e=t.indexOf(o);t.splice(e,1)}return o},y=(t,e,n,r)=>{if(t&&e&&n)if(0===n.length)t.splice(void 0!==r?r:t.length,0,e);else{var i;const o=n[0];y(null===(i=t.find(t=>t.name.toLowerCase()===o.toLowerCase()))||void 0===i?void 0:i.childs,e,n.slice(1),r)}},j=(t,e)=>{if(!e)return t;const n=l()(t);return e.forEach(({fromNode:t,toNode:e,index:r,title:i,withDeleteNode:o=!1})=>{const c=O(n,t,o);c&&(i&&(c.name=i),y(n,l()(c),e,r))}),n},_=(t,e,n=null)=>{if(t){if(e.length>0){const r=e[0];_(t.find(t=>t.name.toLowerCase()===r.toLowerCase()).childs,e.slice(1),n)}if(n){const e=n.length;t.sort((t,r)=>{const i=n.indexOf(t.name.toLowerCase()),o=n.indexOf(r.name.toLowerCase());return(i>=0?i:e)-(o>=0?o:e)})}}},k=(t,e)=>{if(!e)return t;const n=l()(t);return e.forEach(({order:t,node:e})=>{_(n,e,t.map(t=>t.toLowerCase()))}),n},x=(t,e)=>t.reduce((t,n,r)=>(t[r%e].push(n),t),(t=>{const e=[];for(let n=0;n<t;n+=1)e.push([]);return e})(e)),C=(t=0)=>Object(d.c)()?1:Object(d.b)()?3-t:4-t,I={fromAttribute:t=>t-1,toAttribute:t=>t?t+1:void 0}},287:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(19),i=n.n(r),o=n(5),c=n.n(o),a=n(20),s=n(24),u=n(164);function l(){const t=i()([".banner-image * {\n        height: auto;\n      }"]);return l=function(){return t},t}function d(){const t=i()([":host {\n        width: 100%;\n        margin-left: 0;\n      }"]);return d=function(){return t},t}function p(){const t=i()([":host {\n      display: block;\n      position: relative;\n    }\n\n    :host {\n      width: calc(100% + var(--layout-gap) * 2);\n      margin-left: calc(var(--layout-gap) * -1);\n    }\n\n    ","\n\n    .banner-wrap {\n      text-decoration: none;\n    }\n\n    .banner-image * {\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n    }\n\n    ",""]);return p=function(){return t},t}function h(){const t=i()(['<a href="','" class="banner-wrap" @click="','"><picture class="banner-image"><source srcset="','" media="(max-width: 767px)"><source srcset="','" media="(max-width: 1023px)"><source srcset="','" media="(max-width: 1199px)"><img alt="','" src="','"></picture></a>']);return h=function(){return t},t}class f extends a.a{constructor(){super(),this.creative="not set",this.mobileImg="",this.tabletImg="",this.desktopImg="",this.largeDesktopImg="",this._imageWidth=this._defineImageWidth()}_defineImageWidth(){return{mobile:document.documentElement.clientWidth,desktop:220,largeDesktop:230}}firstUpdated(t){this._viewObserver=new IntersectionObserver(t=>{t[0].isIntersecting&&this.dispatchEvent(new CustomEvent("catalog-banner-action",{bubbles:!0,composed:!0,detail:{name:this.creative,action:"view"}}))},{root:null,threshold:0}),this._viewObserver.observe(this)}disconnectedCallback(){this._viewObserver instanceof IntersectionObserver&&(this._viewObserver.disconnect(),this._viewObserver=null),super.disconnectedCallback()}_onBannerClick(){this.dispatchEvent(new CustomEvent("catalog-banner-action",{bubbles:!0,composed:!0,detail:{name:this.creative,action:"click"}}))}render(){const{mobileImg:t,tabletImg:e,desktopImg:n,largeDesktopImg:r,creative:i}=this;return Object(a.c)(h(),this.href,this._onBannerClick,Object(u.d)(t,{width:this._imageWidth.mobile}),Object(u.d)(e,{width:this._imageWidth.mobile}),Object(u.d)(n,{width:this._imageWidth.desktop}),i,Object(u.d)(r,{width:this._imageWidth.largeDesktop}))}}c()(f,"styles",Object(a.b)(p(),Object(s.a)(Object(a.b)(d())),Object(s.a)(Object(a.b)(l())))),c()(f,"properties",{href:{type:String},creative:{type:String,attribute:"creative"},mobileImg:{type:String,attribute:"mobile-img"},tabletImg:{type:String,attribute:"tablet-img"},desktopImg:{type:String,attribute:"desktop-img"},largeDesktopImg:{type:String,attribute:"large-desktop-img"},_imageWidth:{type:Number}})}}]);